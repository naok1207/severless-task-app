https://qiita.com/ikuo0/items/3935e5ea88eee29926cf

## DynamoDB を使用した設計とアーキテクチャの設計に関するベストプラクティス
https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/best-practices.html

### Nosql
https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/bp-general-nosql-design.html

** とは **
- 答えが必要な質問がわかるまで、スキーマの設計を開始すべきではない。ユースケースを理解することが不可欠
- 少ないテーブルを維持する必要がある
- RDBMSのようにデータを再整形するのではなく、NoSQLデータベースでデータを整理することで、データベース内の形状が、クエリされるものと一致するようにする。これは、スピードとスケーラビリティを向上させる重要な要素
 関連するデータをまとめる

** 関連するデータをまとめる **
- 関連するデータをまとめて１つの場所にまとめておく『参照の局所性』が、応答時間を短縮する上で最も重要な要素。
- 関連するデータを近くに置くことはコストとパフォーマンスに大きな影響を与える
- 関連するデータ項目を複数のテーブルに分散するのではなく、NoSQLシステム内の関連項目を可能な限り近くにまとめる必要がある。

** ソート順を使用する **
- キーの設計が原因でソートされている場合は、関連項目をグループ化して、効率的にクエリできる。これは重要な Nosql 設計戦略

** クエリを分散する **
- 大容量のクエリがデータベースの一部に集中しないことも重要。できるだけ多くのパーティションにトラフィックを均等に分散するように、データキーを設計する必要がある

** グローバルセカンダリインデックスを使用する **
- メインテーブルでサポートできるクエリとは異なるクエリを有効にすることができる。高速で比較的安価


### パーティションキーを効率的に設計し、使用するためのベストプラクティス
- DynamoDB テーブルの各項目を一位に識別する主キーは、シンプル（パーティションキーのみ）、または複合（パーティションキーとソートキーの組み合わせ）で構成できる。
- テーブルとそのセカンダリインデックスの論理的な全てのパーティションキー全体でアクティビティが均一になるようにアプリケーションを設計する必要がある。
- アプリケーションが必要とするアクセスパターンを決定し、各テーブルとセカンダリインデックスが必要とする読み込み容量と書き込み容量の合計を予想することができる。
